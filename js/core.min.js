(function(e,t,n){"use strict";function r(e){var t=window.location.search.substring(1),n=t.split("&");for(var r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e)return i[1]}return null}function i(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:parseInt(e[1],10)<parseInt(t[1],10)?-1:0}function s(e,t){return-i(e,t)}function o(e,t){return e[2]>t[2]?1:e[2]<t[2]?-1:0}function u(e,t){return-o(e,t)}function a(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}function f(e,t){return-a(e,t)}function l(){var e=r("sort"),t=r("sortdir");return e=="size"?t=="desc"?s:i:e=="name"?t=="desc"?f:a:e=="lastmod"?t=="desc"?u:o:a}function c(e){return e==r("sort")?r("sortdir")=="desc"?"asc":"desc":"asc"}function h(){var e,t=navigator.appName;t=="Microsoft Internet Explorer"?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;return e}function d(){p.open("get",location.protocol+"//"+"i.awe-so.me.s3.amazonaws.com/");p.onreadystatechange=v;p.send(null)}function v(){if(p.readyState==4){var t=p.responseXML,n=t.getElementsByTagName("Contents"),r='<th><tr><td><a href="?sort=name&sortdir='+c("name")+'">Name</a></td><td><a href="?sort=lastmod&sortdir='+c("lastmod")+'">Last Modified</a></td><td><a href="?sort=size&sortdir='+c("size")+'">Size</a></td></tr></th>',i=[],s,o,u,a,f;for(var h=0;h<n.length;h++){s=[];o=n[h].getElementsByTagName("Size")[0].firstChild.data,u=n[h].getElementsByTagName("Key")[0].firstChild.data,a=n[h].getElementsByTagName("LastModified")[0].firstChild.data,f='<A HREF="'+location.protocol+"//"+"i.awe-so.me/"+u+'">'+u+"</A>";s[0]=u;s[1]=o;s[2]=a;s[3]=f;i[h]=s}i.sort(l());for(h=0;h<i.length;h++){s=i[h];u=s[0];o=Math.floor(s[1]/1024,10);o=o>1024?o=(o/1024).toFixed(1)+"M":o=o;a=s[2];f=s[3];u.indexOf(".gif")>0&&(r=r+"<tr><td>"+f+"</td><td>"+a+"</td><td>"+o+"</td></tr>")}document.getElementById("bucket_list").innerHTML=r;var d=e("tr td");m(d)}}location.querystring=function(){var e={},t=location.search;if(!t)return e;var n=t.substring(1).split("&"),r;for(var i=0;i<n.length;i++){r=n[i].split("=");e[r[0]]=r[1]}return e}();var p=h(),m=function(t){var n=function(t,n){var r=t.attr("href"),i=window.outerHeight,s=window.outerWidth,o=new Image;o.name=r;o.src=r;o.onload=function(){t.append(o);t.find("img").css({position:"absolute",left:"50%",opacity:"0",display:"block",width:"auto"}).addClass("superMagic");var r=e(".superMagic");r.outerWidth()>s&&r.css("width",i-550+"px");r.outerHeight()>i&&r.css("height",i-200+"px");r.css("top",n).animate({opacity:1},250)}};t.on("mouseenter","a",function(){var t=e("body").scrollTop()+20;n(e(this),t)}).on("mouseleave","a",function(){e(this).find(".superMagic").animate({opacity:0},250).remove()});t.on("focus","a",function(){var t=e("body").scrollTop()+20;n(e(this),t)}).on("blur","a",function(){e(this).find(".superMagic").animate({opacity:0},250).remove()})};d()})(jQuery,window,document);