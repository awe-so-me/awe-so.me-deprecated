(function(e,t,n){"use strict";function r(e){var t=window.location.search.substring(1),n=t.split("&");for(var r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e)return i[1]}return null}function s(e,t){return parseInt(e[1])>parseInt(t[1])?1:parseInt(e[1])<parseInt(t[1])?-1:0}function o(e,t){return-s(e,t)}function u(e,t){return e[2]>t[2]?1:e[2]<t[2]?-1:0}function a(e,t){return-u(e,t)}function f(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}function l(e,t){return-f(e,t)}function c(){var e=r("sort"),t=r("sortdir");return e=="size"?t=="desc"?o:s:e=="name"?t=="desc"?l:f:e=="lastmod"?t=="desc"?a:u:f}function h(e){return e==r("sort")?r("sortdir")=="desc"?"asc":"desc":"asc"}function p(){var e,t=navigator.appName;t=="Microsoft Internet Explorer"?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;return e}function v(){d.open("get",location.protocol+"//"+"i.awe-so.me.s3.amazonaws.com/");d.onreadystatechange=m;d.send(null)}function m(){if(d.readyState==4){var e=d.responseXML;filex=e.getElementsByTagName("Contents");res='<th><tr><td><a href="?sort=name&sortdir='+h("name")+'">Name</a></td><td><a href="?sort=lastmod&sortdir='+h("lastmod")+'">Last Modified</a></td><td><a href="?sort=size&sortdir='+h("size")+'">Size</a></td></tr></th>';fileList=new Array;for(i=0;i<filex.length;i++){fileData=new Array;fileList[i]=fileData;size=filex[i].getElementsByTagName("Size")[0].firstChild.data;name=filex[i].getElementsByTagName("Key")[0].firstChild.data;lastmod=filex[i].getElementsByTagName("LastModified")[0].firstChild.data;link='<A HREF="'+location.protocol+"//"+"i.awe-so.me/"+name+'">'+name+"</A>";fileData[0]=name;fileData[1]=size;fileData[2]=lastmod;fileData[3]=link}fileList.sort(c());for(i=0;i<fileList.length;i++){fileData=fileList[i];name=fileData[0];size=Math.floor(fileData[1]/1024,10);size=size>1024?size=(size/1024).toFixed(1)+"M":size+="K";lastmod=fileData[2];link=fileData[3];name.indexOf(".gif")>0&&(res=res+"<tr><td>"+link+"</td><td>"+lastmod+"</td><td>"+size+"</td></tr>")}document.getElementById("bucket_list").innerHTML=res}}location.querystring=function(){var e={},t=location.search;if(!t)return e;var n=t.substring(1).split("&"),r;for(var i=0;i<n.length;i++){r=n[i].split("=");e[r[0]]=r[1]}return e}();var d=p()})(jQuery,window,document);